!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==Nb?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d,e=[],f=[],g=0;g<a.length;)d=b?a[g][b]:a[g],s(f,d)<0&&e.push(a[g]),f[g]=d,g++;return c&&(e=b?e.sort(function(a,c){return a[b]>c[b]}):e.sort()),e}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<Lb.length;){if(c=Lb[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return Rb++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return b=c?c:Ub?N:Vb?Q:Tb?S:M,new b(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&_b&&0===d-e,g=b&(bc|cc)&&0===d-e;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c,d,e,f,g,h=a.session,i=b.pointers,j=i.length;h.firstInput||(h.firstInput=E(b)),j>1&&!h.firstMultiple?h.firstMultiple=E(b):1===j&&(h.firstMultiple=!1),c=h.firstInput,d=h.firstMultiple,e=d?d.center:c.center,f=b.center=F(i),b.timeStamp=Qb(),b.deltaTime=b.timeStamp-c.timeStamp,b.angle=J(e,f),b.distance=I(e,f),C(h,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=d?L(d.pointers,i):1,b.rotation=d?K(d.pointers,i):0,D(h,b),g=a.element,p(b.srcEvent.target,g)&&(g=b.srcEvent.target),b.target=g}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===_b||f.eventType===bc)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h,i,j,k=a.lastInterval||b,l=b.timeStamp-k.timeStamp;b.eventType!=cc&&(l>$b||k.velocity===d)?(h=k.deltaX-b.deltaX,i=k.deltaY-b.deltaY,j=G(l,h,i),e=j.x,f=j.y,c=Pb(j.x)>Pb(j.y)?j.x:j.y,g=H(h,i),a.lastInterval=b):(c=k.velocity,e=k.velocityX,f=k.velocityY,g=k.direction),b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:Ob(a.pointers[c].clientX),clientY:Ob(a.pointers[c].clientY)},c++;return{timeStamp:Qb(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b,c,d,e=a.length;if(1===e)return{x:Ob(a[0].clientX),y:Ob(a[0].clientY)};for(b=0,c=0,d=0;e>d;)b+=a[d].clientX,c+=a[d].clientY,d++;return{x:Ob(b/e),y:Ob(c/e)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?dc:Pb(a)>=Pb(b)?a>0?ec:fc:b>0?gc:hc}function I(a,b,c){c||(c=lc);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=lc);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],mc)-J(a[1],a[0],mc)}function L(a,b){return I(b[0],b[1],mc)/I(a[0],a[1],mc)}function M(){this.evEl=jb,this.evWin=kb,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=nb,this.evWin=ob,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=qb,this.evWin=rb,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(bc|cc)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=tb,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c,d,e,f,g,h=t(a.touches),i=this.targetIds;if(b&(_b|ac)&&1===h.length)return i[h[0].identifier]=!0,[h,h];if(e=t(a.changedTouches),f=[],g=this.target,d=h.filter(function(a){return p(a.target,g)}),b===_b)for(c=0;c<d.length;)i[d[c].identifier]=!0,c++;for(c=0;c<e.length;)i[e[c].identifier]&&f.push(e[c]),b&(bc|cc)&&delete i[e[c].identifier],c++;return f.length?[u(d.concat(f),"identifier",!0),f]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){var b,c;return q(a,zb)?zb:(b=q(a,Ab),c=q(a,Bb),b&&c?Ab+" "+Bb:b||c?b?Ab:Bb:q(a,yb)?yb:xb)}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=Cb,this.simultaneous={},this.requireFail=[]}function W(a){return a&Hb?"cancel":a&Fb?"end":a&Eb?"move":a&Db?"start":""}function X(a){return a==hc?"down":a==gc?"up":a==ec?"left":a==fc?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function ab(){V.apply(this,arguments),this._timer=null,this._input=null}function bb(){Z.apply(this,arguments)}function cb(){Z.apply(this,arguments)}function db(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function eb(a,b){return b=b||{},b.recognizers=m(b.recognizers,eb.defaults.preset),new fb(a,b)}function fb(a,b){b=b||{},this.options=i(b,eb.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),gb(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function gb(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function hb(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb=["","webkit","moz","MS","ms","o"],Mb=b.createElement("div"),Nb="function",Ob=Math.round,Pb=Math.abs,Qb=Date.now,Rb=1,Sb=/mobile|tablet|ip(ad|hone|od)|android/i,Tb="ontouchstart"in a,Ub=v(a,"PointerEvent")!==d,Vb=Tb&&Sb.test(navigator.userAgent),Wb="touch",Xb="pen",Yb="mouse",Zb="kinect",$b=25,_b=1,ac=2,bc=4,cc=8,dc=1,ec=2,fc=4,gc=8,hc=16,ic=ec|fc,jc=gc|hc,kc=ic|jc,lc=["x","y"],mc=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}},ib={mousedown:_b,mousemove:ac,mouseup:bc},jb="mousedown",kb="mousemove mouseup",j(M,y,{handler:function(a){var b=ib[a.type];b&_b&&0===a.button&&(this.pressed=!0),b&ac&&1!==a.which&&(b=bc),this.pressed&&this.allow&&(b&bc&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Yb,srcEvent:a}))}}),lb={pointerdown:_b,pointermove:ac,pointerup:bc,pointercancel:cc,pointerout:cc},mb={2:Wb,3:Xb,4:Yb,5:Zb},nb="pointerdown",ob="pointermove pointerup pointercancel",a.MSPointerEvent&&(nb="MSPointerDown",ob="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=lb[d],f=mb[a.pointerType]||a.pointerType,g=f==Wb,h=s(b,a.pointerId,"pointerId");e&_b&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(bc|cc)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}}),pb={touchstart:_b,touchmove:ac,touchend:bc,touchcancel:cc},qb="touchstart",rb="touchstart touchmove touchend touchcancel",j(O,y,{handler:function(a){var b,c=pb[a.type];c===_b&&(this.started=!0),this.started&&(b=P.call(this,a,c),c&(bc|cc)&&0===b[0].length-b[1].length&&(this.started=!1),this.callback(this.manager,c,{pointers:b[0],changedPointers:b[1],pointerType:Wb,srcEvent:a}))}}),sb={touchstart:_b,touchmove:ac,touchend:bc,touchcancel:cc},tb="touchstart touchmove touchend touchcancel",j(Q,y,{handler:function(a){var b=sb[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Wb,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==Wb,e=c.pointerType==Yb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(bc|cc)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),ub=v(Mb.style,"touchAction"),vb=ub!==d,wb="compute",xb="auto",yb="manipulation",zb="none",Ab="pan-x",Bb="pan-y",T.prototype={set:function(a){a==wb&&(a=this.compute()),vb&&(this.manager.element.style[ub]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){var b,c,d,e,f,g;return vb?void 0:(b=a.srcEvent,c=a.offsetDirection,this.manager.session.prevented?(b.preventDefault(),void 0):(d=this.actions,e=q(d,zb),f=q(d,Bb),g=q(d,Ab),e||f&&c&ic||g&&c&jc?this.preventSrc(b):void 0))},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}},Cb=1,Db=2,Eb=4,Fb=8,Gb=Fb,Hb=16,Ib=32,V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;Fb>d&&b(!0),b(),d>=Fb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):(this.state=Ib,void 0)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(Ib|Cb)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(Gb|Hb|Ib)&&(this.state=Cb),this.state=this.process(b),this.state&(Db|Eb|Fb|Hb)&&this.tryEmit(b),void 0):(this.reset(),this.state=Ib,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Db|Eb),e=this.attrTest(a);return d&&(c&cc||!e)?b|Hb:d||e?c&bc?b|Fb:b&Db?b|Eb:Db:Ib}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:kc},getTouchAction:function(){var a=this.options.direction,b=[];return a&ic&&b.push(Bb),a&jc&&b.push(Ab),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&ic?(e=0===f?dc:0>f?ec:fc,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?dc:0>g?gc:hc,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&Db||!(this.state&Db)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[zb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Db)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(ab,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[xb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(bc|cc)&&!f)this.reset();else if(a.eventType&_b)this.reset(),this._timer=e(function(){this.state=Gb,this.tryEmit()},b.time,this);else if(a.eventType&bc)return Gb;return Ib},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===Gb&&(a&&a.eventType&bc?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=Qb(),this.manager.emit(this.options.event,this._input)))}}),j(bb,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[zb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Db)}}),j(cb,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:ic|jc,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(ic|jc)?b=a.velocity:c&ic?b=a.velocityX:c&jc&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&Pb(b)>this.options.velocity&&a.eventType&bc},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(db,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[yb]},process:function(a){var b,c,d,f=this.options,g=a.pointers.length===f.pointers,h=a.distance<f.threshold,i=a.deltaTime<f.time;if(this.reset(),a.eventType&_b&&0===this.count)return this.failTimeout();if(h&&i&&g){if(a.eventType!=bc)return this.failTimeout();if(b=this.pTime?a.timeStamp-this.pTime<f.interval:!0,c=!this.pCenter||I(this.pCenter,a.center)<f.posThreshold,this.pTime=a.timeStamp,this.pCenter=a.center,c&&b?this.count+=1:this.count=1,this._input=a,d=this.count%f.taps,0===d)return this.hasRequireFailures()?(this._timer=e(function(){this.state=Gb,this.tryEmit()},f.interval,this),Db):Gb}return Ib},failTimeout:function(){return this._timer=e(function(){this.state=Ib},this.options.interval,this),Ib},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Gb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),eb.VERSION="2.0.4",eb.defaults={domEvents:!1,touchAction:wb,enable:!0,inputTarget:null,inputClass:null,preset:[[bb,{enable:!1}],[_,{enable:!1},["rotate"]],[cb,{direction:ic}],[$,{direction:ic},["swipe"]],[db],[db,{event:"doubletap",taps:2},["tap"]],[ab]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Jb=1,Kb=2,fb.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?Kb:Jb},recognize:function(a){var b,c,d,e,f=this.session;if(!f.stopped)for(this.touchAction.preventDefaults(a),c=this.recognizers,d=f.curRecognizer,(!d||d&&d.state&Gb)&&(d=f.curRecognizer=null),e=0;e<c.length;)b=c[e],f.stopped===Kb||d&&b!=d&&!b.canRecognizeWith(d)?b.reset():b.recognize(a),!d&&b.state&(Db|Eb|Fb)&&(d=f.curRecognizer=b),e++},get:function(a){var b,c;if(a instanceof V)return a;for(b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){var c,d;if(this.options.domEvents&&hb(a,b),c=this.handlers[a]&&this.handlers[a].slice(),c&&c.length)for(b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()},d=0;d<c.length;)c[d](b),d++},destroy:function(){this.element&&gb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(eb,{INPUT_START:_b,INPUT_MOVE:ac,INPUT_END:bc,INPUT_CANCEL:cc,STATE_POSSIBLE:Cb,STATE_BEGAN:Db,STATE_CHANGED:Eb,STATE_ENDED:Fb,STATE_RECOGNIZED:Gb,STATE_CANCELLED:Hb,STATE_FAILED:Ib,DIRECTION_NONE:dc,DIRECTION_LEFT:ec,DIRECTION_RIGHT:fc,DIRECTION_UP:gc,DIRECTION_DOWN:hc,DIRECTION_HORIZONTAL:ic,DIRECTION_VERTICAL:jc,DIRECTION_ALL:kc,Manager:fb,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:db,Pan:$,Swipe:cb,Pinch:_,Rotate:bb,Press:ab,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==Nb&&define.amd?define(function(){return eb}):"undefined"!=typeof module&&module.exports?module.exports=eb:a[c]=eb}(window,document,"Hammer"),function(a,b,c){function d(a,d){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,zoomStart:1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var e in d)this.options[e]=d[e];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this.scale=c.min(c.max(this.options.zoomStart,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function e(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function f(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var e in d)this.options[e]=d[e];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(a,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(a,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.style.transform]=this.scroller.translateZ,this.wrapperStyle[h.style.transitionDuration]=h.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},h=function(){function d(a){return h===!1?!1:""===h?a:h+a.charAt(0).toUpperCase()+a.substr(1)}var e,f={},g=b.createElement("div").style,h=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in g)return b[c].substr(0,b[c].length-1);return!1}();return f.getTime=Date.now||function(){return(new Date).getTime()},f.extend=function(a,b){for(var c in b)a[c]=b[c]},f.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},f.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},f.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},f.momentum=function(a,b,d,e,f,g){var h,i,j=a-b,k=c.abs(j)/d;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(0>j?-1:1),i=k/g,e>h?(h=f?e-f/2.5*(k/8):e,j=c.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=c.abs(a)+h,i=j/k),{destination:c.round(h),duration:i}},e=d("transform"),f.extend(f,{hasTransform:e!==!1,hasPerspective:d("perspective")in g,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:d("transition")in g}),f.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),f.extend(f.style={},{transform:e,transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),transitionDelay:d("transitionDelay"),transformOrigin:d("transformOrigin")}),f.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},f.addClass=function(a,b){if(!f.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},f.removeClass=function(a,b){if(f.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},f.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},f.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},f.extend(f.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),f.extend(f.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin(2*(a-b/4)*c.PI/b)+1}}}),f.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},f.click=function(a){var c,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(c=b.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,d.dispatchEvent(c))},f}();d.prototype={version:"5.1.3",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=h.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&h.eventType[a.type]!==this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,d=a.touches?a.touches[0]:a;this.initiated=h.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=d.pageX,this.pointY=d.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,d,e,f,g=a.touches?a.touches[0]:a,i=g.pageX-this.pointX,j=g.pageY-this.pointY,k=h.getTime();if(this.pointX=g.pageX,this.pointY=g.pageY,this.distX+=i,this.distY+=j,e=c.abs(this.distX),f=c.abs(this.distY),!(k-this.endTime>300&&10>e&&10>f)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=e>f+this.options.directionLockThreshold?"h":f>=e+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return this.initiated=!1,void 0;j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return this.initiated=!1,void 0;i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,d=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+j/3:d>0?0:this.maxScrollY),this.directionX=i>0?-1:0>i?1:0,this.directionY=j>0?-1:0>j?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,d),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){var b,d,e,f,g,i,j,k,l,m;return this.enabled&&h.eventType[a.type]===this.initiated&&(this.options.preventDefault&&!h.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault(),a.changedTouches?a.changedTouches[0]:a,e=h.getTime()-this.startTime,f=c.round(this.x),g=c.round(this.y),i=c.abs(f-this.startX),j=c.abs(g-this.startY),k=0,l="",this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime))?(this.scrollTo(f,g),this.moved?this._events.flick&&200>e&&100>i&&100>j?(this._execEvent("flick"),void 0):(this.options.momentum&&300>e&&(b=this.hasHorizontalScroll?h.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},d=this.hasVerticalScroll?h.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},f=b.destination,g=d.destination,k=c.max(b.duration,d.duration),this.isInTransition=1),this.options.snap&&(m=this._nearestSnap(f,g),this.currentPage=m,k=this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-m.x),1e3),c.min(c.abs(g-m.y),1e3)),300),f=m.x,g=m.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing),f!=this.x||g!=this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(l=h.ease.quadratic),this.scrollTo(f,g,k,l),void 0):(this._execEvent("scrollEnd"),void 0)):(this.options.tap&&h.tap(a,this.options.tap),this.options.click&&h.click(a),this._execEvent("scrollCancel"),void 0)):void 0},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=c.round(this.scroller.offsetWidth*this.scale),this.scrollerHeight=c.round(this.scroller.offsetHeight*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition(this.options.bounceTime)},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||h.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var g=h.offset(a);g.left-=this.wrapperOffset.left,g.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),g.left-=d||0,g.top-=e||0,g.left=g.left>0?0:g.left<this.maxScrollX?this.maxScrollX:g.left,g.top=g.top>0?0:g.top<this.maxScrollY?this.maxScrollY:g.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-g.left),c.abs(this.y-g.top)):b,this.scrollTo(g.left,g.top,b,f)
}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.scrollerStyle[h.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[h.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+a+"px,"+b+"px) scale("+this.scale+") "+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?h.removeEvent:h.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,h.prefixPointerEvent("pointerdown"),this),c(d,h.prefixPointerEvent("pointermove"),this),c(d,h.prefixPointerEvent("pointercancel"),this),c(d,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[h.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_initIndicators:function(){function a(a){for(var b=i.indicators.length;b--;)a.call(i.indicators[b])}var b,c,d=this.options.interactiveScrollbars,g="string"!=typeof this.options.scrollbars,h=[],i=this;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:e("v",d,this.options.scrollbars),interactive:d,defaultScrollbars:!0,customStyle:g,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),h.push(b)),this.options.scrollX&&(b={el:e("h",d,this.options.scrollbars),interactive:d,defaultScrollbars:!0,customStyle:g,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),h.push(b))),this.options.indicators&&(h=h.concat(this.options.indicators)),c=h.length;c--;)this.indicators.push(new f(this,h[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[h.style.transformOrigin]="0 0"},_zoomStart:function(a){var b=c.abs(a.touches[0].pageX-a.touches[1].pageX),d=c.abs(a.touches[0].pageY-a.touches[1].pageY);this.touchesDistanceStart=c.sqrt(b*b+d*d),this.startScale=this.scale,this.originX=c.abs(a.touches[0].pageX+a.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=c.abs(a.touches[0].pageY+a.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,d,e,f=c.abs(a.touches[0].pageX-a.touches[1].pageX),g=c.abs(a.touches[0].pageY-a.touches[1].pageY),i=c.sqrt(f*f+g*g),j=1/this.touchesDistanceStart*i*this.startScale;this.scaled=!0,j<this.options.zoomMin?j=.5*this.options.zoomMin*c.pow(2,j/this.options.zoomMin):j>this.options.zoomMax&&(j=2*this.options.zoomMax*c.pow(.5,this.options.zoomMax/j)),b=j/this.startScale,d=this.originX-this.originX*b+this.startX,e=this.originY-this.originY*b+this.startY,this.scale=j,this.scrollTo(d,e,0)}},_zoomEnd:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,d;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),d=this.scale/this.startScale,b=this.originX-this.originX*d+this.startX,c=this.originY-this.originY*d+this.startY,b>0?b=0:b<this.maxScrollX&&(b=this.maxScrollX),c>0?c=0:c<this.maxScrollY&&(c=this.maxScrollY),this.scrollTo(b,c,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(a,b,c,d){if(a<this.options.zoomMin?a=this.options.zoomMin:a>this.options.zoomMax&&(a=this.options.zoomMax),a!=this.scale){var e=a/this.scale;b=void 0===b?this.wrapperWidth/2-this.wrapperOffset.left:b,c=void 0===c?this.wrapperHeight/2-this.wrapperOffset.top:c,d=void 0===d?300:d,b=b+this.wrapperOffset.left-this.x,c=c+this.wrapperOffset.top-this.y,b=b-b*e+this.x,c=c-c*e+this.y,this.scale=a,this.refresh(),b>0?b=0:b<this.maxScrollX&&(b=this.maxScrollX),c>0?c=0:c<this.maxScrollY&&(c=this.maxScrollY),this.scrollTo(b,c,d)}},_wheelZoom:function(a){var b,d,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("zoomEnd")},400),"deltaY"in a)b=-a.deltaY/c.abs(a.deltaY);else if("wheelDeltaY"in a)b=a.wheelDeltaY/c.abs(a.wheelDeltaY);else if("wheelDelta"in a)b=a.wheelDelta/c.abs(a.wheelDelta);else{if(!("detail"in a))return;b=-a.detail/c.abs(a.detail)}isNaN(b)&&(b=0),d=this.scale+.01*b,this.zoom(d,a.pageX,a.pageY,0),a.preventDefault(),a.stopPropagation()},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,d=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,d=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,this.goToPage(e,f),void 0;e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,d,e,f,g,h=0,i=0,j=0,k=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(d=c.round(k/2),e=c.round(l/2);j>-this.scrollerWidth;){for(this.pages[h]=[],a=0,f=0;f>-this.scrollerHeight;)this.pages[h][a]={x:c.max(j,this.maxScrollX),y:c.max(f,this.maxScrollY),width:k,height:l,cx:j-d,cy:f-e},f-=l,a++;j-=k,h++}else for(g=this.options.snap,a=g.length,b=-1;a>h;h++)(0===h||g[h].offsetLeft<=g[h-1].offsetLeft)&&(i=0,b++),this.pages[i]||(this.pages[i]=[]),j=c.max(-g[h].offsetLeft,this.maxScrollX),f=c.max(-g[h].offsetTop,this.maxScrollY),d=j-c.round(g[h].offsetWidth/2),e=f-c.round(g[h].offsetHeight/2),this.pages[i][b]={x:j,y:f,width:g[h].offsetWidth,height:g[h].offsetHeight,cx:d,cy:e},j>this.maxScrollX&&i++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),0===this.options.snapThreshold%1?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var b,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in c)this.options.keyBindings[b]=this.options.keyBindings[b]||c[b];h.addEvent(a,"keydown",this),this.on("destroy",function(){h.removeEvent(a,"keydown",this)})},_key:function(a){if(this.enabled){var b,d=this.options.snap,e=d?this.currentPage.pageX:this.x,f=d?this.currentPage.pageY:this.y,g=h.getTime(),i=this.keyTime||0,j=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this.isInTransition=!1),this.keyAcceleration=200>g-i?c.min(this.keyAcceleration+j,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?e+=d?1:this.wrapperWidth:f+=d?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?e-=d?1:this.wrapperWidth:f-=d?1:this.wrapperHeight;break;case this.options.keyBindings.end:e=d?this.pages.length-1:this.maxScrollX,f=d?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=0,f=0;break;case this.options.keyBindings.left:e+=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=d?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:e-=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=d?1:5+this.keyAcceleration>>0;break;default:return}if(d)return this.goToPage(e,f),void 0;e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollX&&(e=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(e,f,0),this.keyTime=g}},_animate:function(a,b,c,d){function e(){var m,n,o,p=h.getTime();return p>=l?(f.isAnimating=!1,f._translate(a,b),f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"),void 0):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,f._translate(m,n),f.isAnimating&&g(e),void 0)}var f=this,i=this.x,j=this.y,k=h.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a),this.options.zoom&&a.touches&&a.touches.length>1&&this._zoomStart(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&a.touches&&a.touches[1])return this._zoom(a),void 0;this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return this._zoomEnd(a),void 0;this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return this._wheelZoom(a),void 0;this._wheel(a);break;case"keydown":this._key(a)}}},f.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),h.removeEvent(a,"touchend",this),h.removeEvent(a,h.prefixPointerEvent("pointerup"),this),h.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(a,"touchmove",this),this.options.disablePointer||h.addEvent(a,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b,c,d,e,f=a.touches?a.touches[0]:a;h.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),a.preventDefault(),a.stopPropagation()},_end:function(b){var d,e;this.initiated&&(this.initiated=!1,b.preventDefault(),b.stopPropagation(),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),this.scroller.options.snap&&(d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),e=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300),(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,e,this.scroller.options.bounceEasing))),this.moved&&this.scroller._execEvent("scrollEnd"))},transitionTime:function(a){a=a||0,this.indicatorStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.indicatorStyle[h.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[h.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[h.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},d.utils=h,"undefined"!=typeof module&&module.exports?module.exports=d:a.IScroll=d}(window,document,Math),!function(a,b){var c,d;if("object"==typeof exports&&"object"==typeof module)module.exports=b();else if("function"==typeof define&&define.amd)define([],b);else{c=b();for(d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){c(6),c(7),a.exports=c(8)},function(a,b,c){!function(b){!function(c){function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],k(a,d(g,this),d(h,this))}function f(a){var b=this;return null===this._state?void this._deferreds.push(a):void l(function(){var c,d=b._state?a.onFulfilled:a.onRejected;if(null===d)return void(b._state?a.resolve:a.reject)(b._value);try{c=d(b._value)}catch(e){return void a.reject(e)}a.resolve(c)})}function g(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void k(d(b,a),d(g,this),d(h,this))}this._state=!0,this._value=a,i.call(this)}catch(c){h.call(this,c)}}function h(a){this._state=!1,this._value=a,i.call(this)}function i(){for(var a=0,b=this._deferreds.length;b>a;a++)f.call(this,this._deferreds[a]);this._deferreds=null}function j(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function k(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var l="function"==typeof b&&b||function(a){setTimeout(a,1)},m=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var c=this;return new e(function(d,e){f.call(c,new j(a,b,d,e))})},e.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new e(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},e._setImmediateFn=function(a){l=a},e.prototype.always=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){throw c})})},"undefined"!=typeof a&&a.exports?a.exports=e:c.Promise||(c.Promise=e)}(this)}.call(b,c(2).setImmediate)},function(a,b,c){!function(a,d){function e(a,b){this._id=a,this._clearFn=b}var f=c(3).nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;b.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},b.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},b.setImmediate="function"==typeof a?a:function(a){var c=j++,d=arguments.length<2?!1:h.call(arguments,1);return i[c]=!0,f(function(){i[c]&&(d?a.apply(null,d):a.call(null),b.clearImmediate(c))}),c},b.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}.call(b,c(2).setImmediate,c(2).clearImmediate)},function(a){function b(){i=!1,f.length?h=f.concat(h):j=-1,h.length&&c()}function c(){var a,c;if(!i){for(a=setTimeout(b),i=!0,c=h.length;c;){for(f=h,h=[];++j<c;)f&&f[j].run();j=-1,c=h.length}f=null,i=!1,clearTimeout(a)}}function d(a,b){this.fun=a,this.array=b}function e(){}var f,g=a.exports={},h=[],i=!1,j=-1;g.nextTick=function(a){var b,e=new Array(arguments.length-1);if(arguments.length>1)for(b=1;b<arguments.length;b++)e[b-1]=arguments[b];h.push(new d(a,e)),1!==h.length||i||setTimeout(c,0)},d.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=e,g.addListener=e,g.once=e,g.off=e,g.removeListener=e,g.removeAllListeners=e,g.emit=e,g.binding=function(){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(a){function b(){var a=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return a&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}function c(){var a=this,b=[],c=Array(21).join("-")+(1e16*+new Date*Math.random()).toString(36),e=XMLHttpRequest.prototype.send;this.getParts=function(){return b.toString()},this.append=function(a,d,e){b.push("--"+c+'\r\nContent-Disposition: form-data; name="'+a+'"'),d instanceof Blob?(b.push('; filename="'+(e||"blob")+'"\r\nContent-Type: '+d.type+"\r\n\r\n"),b.push(d)):b.push("\r\n\r\n"+d),b.push("\r\n")},XMLHttpRequest.prototype.send=function(f){var g,h,i=this;f===a?(b.push("--"+c+"--\r\n"),h=new d(b),g=new FileReader,g.onload=function(){e.call(i,g.result)},g.onerror=function(a){throw a},g.readAsArrayBuffer(h),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+c),XMLHttpRequest.prototype.send=e):e.call(this,f)}}var d=function(){try{return new Blob,!0}catch(a){return!1}}()?window.Blob:function(a,b){var c=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return a.forEach(function(a){c.append(a)}),c.getBlob(b?b.type:void 0)};a.exports={Blob:d,FormData:b()?c:FormData}},function(a,b){var c,d;!function(){function e(a){return!!a.exifdata}function f(a,b){b=b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"",a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var c=atob(a),d=c.length,e=new ArrayBuffer(d),f=new Uint8Array(e),g=0;d>g;g++)f[g]=c.charCodeAt(g);return e}function g(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="blob",c.onload=function(){(200==this.status||0===this.status)&&b(this.response)},c.send()}function h(a,b){function c(c){var d=i(c),e=j(c);a.exifdata=d||{},a.iptcdata=e||{},b&&b.call(a)}var d,e,h;a.src?/^data\:/i.test(a.src)?(d=f(a.src),c(d)):/^blob\:/i.test(a.src)?(e=new FileReader,e.onload=function(a){c(a.target.result)},g(a.src,function(a){e.readAsArrayBuffer(a)})):(h=new XMLHttpRequest,h.onload=function(){200==this.status||0===this.status?c(h.response):b(new Error("Could not load image")),h=null},h.open("GET",a.src,!0),h.responseType="arraybuffer",h.send(null)):window.FileReader&&(a instanceof window.Blob||a instanceof window.File)&&(e=new FileReader,e.onload=function(a){u&&console.log("Got file of length "+a.target.result.byteLength),c(a.target.result)},e.readAsArrayBuffer(a))}function i(a){var b,c,d,e=new DataView(a);if(u&&console.log("Got file of length "+a.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return u&&console.log("Not a valid JPEG"),!1;for(c=2,d=a.byteLength;d>c;){if(255!=e.getUint8(c))return u&&console.log("Not a valid marker at offset "+c+", found: "+e.getUint8(c)),!1;if(b=e.getUint8(c+1),u&&console.log(b),225==b)return u&&console.log("Found 0xFFE1 marker"),o(e,c+4,e.getUint16(c+2)-2);c+=2+e.getUint16(c+2)}}function j(a){var b,c,d,e,f,g,h=new DataView(a);if(u&&console.log("Got file of length "+a.byteLength),255!=h.getUint8(0)||216!=h.getUint8(1))return u&&console.log("Not a valid JPEG"),!1;for(b=2,c=a.byteLength,d=function(a,b){return 56===a.getUint8(b)&&66===a.getUint8(b+1)&&73===a.getUint8(b+2)&&77===a.getUint8(b+3)&&4===a.getUint8(b+4)&&4===a.getUint8(b+5)};c>b;){if(d(h,b))return e=h.getUint8(b+7),0!==e%2&&(e+=1),0===e&&(e=4),f=b+8+e,g=h.getUint16(b+6+e),k(a,f,g);b++}}function k(a,b,c){for(var d,e,f,g,h,i=new DataView(a),j={},k=b;b+c>k;)28===i.getUint8(k)&&2===i.getUint8(k+1)&&(g=i.getUint8(k+2),g in t&&(f=i.getInt16(k+3),h=f+5,e=t[g],d=n(i,k+5,f),j.hasOwnProperty(e)?j[e]instanceof Array?j[e].push(d):j[e]=[j[e],d]:j[e]=d)),k++;return j}function l(a,b,c,d,e){var f,g,h,i=a.getUint16(c,!e),j={};for(h=0;i>h;h++)f=c+12*h+2,g=d[a.getUint16(f,!e)],!g&&u&&console.log("Unknown tag: "+a.getUint16(f,!e)),j[g]=m(a,f,b,c,e);return j}function m(a,b,c,d,e){var f,g,h,i,j,k,l=a.getUint16(b+2,!e),m=a.getUint32(b+4,!e),o=a.getUint32(b+8,!e)+c;switch(l){case 1:case 7:if(1==m)return a.getUint8(b+8,!e);for(f=m>4?o:b+8,g=[],i=0;m>i;i++)g[i]=a.getUint8(f+i);return g;case 2:return f=m>4?o:b+8,n(a,f,m-1);case 3:if(1==m)return a.getUint16(b+8,!e);for(f=m>2?o:b+8,g=[],i=0;m>i;i++)g[i]=a.getUint16(f+2*i,!e);return g;case 4:if(1==m)return a.getUint32(b+8,!e);for(g=[],i=0;m>i;i++)g[i]=a.getUint32(o+4*i,!e);return g;case 5:if(1==m)return j=a.getUint32(o,!e),k=a.getUint32(o+4,!e),h=new Number(j/k),h.numerator=j,h.denominator=k,h;for(g=[],i=0;m>i;i++)j=a.getUint32(o+8*i,!e),k=a.getUint32(o+4+8*i,!e),g[i]=new Number(j/k),g[i].numerator=j,g[i].denominator=k;return g;case 9:if(1==m)return a.getInt32(b+8,!e);for(g=[],i=0;m>i;i++)g[i]=a.getInt32(o+4*i,!e);return g;case 10:if(1==m)return a.getInt32(o,!e)/a.getInt32(o+4,!e);for(g=[],i=0;m>i;i++)g[i]=a.getInt32(o+8*i,!e)/a.getInt32(o+4+8*i,!e);return g}}function n(a,b,c){var d,e="";for(d=b;b+c>d;d++)e+=String.fromCharCode(a.getUint8(d));return e}function o(a,b){var c,d,e,f,g,h,i;if("Exif"!=n(a,b,4))return u&&console.log("Not valid EXIF data! "+n(a,b,4)),!1;if(h=b+6,18761==a.getUint16(h))c=!1;else{if(19789!=a.getUint16(h))return u&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;c=!0}if(42!=a.getUint16(h+2,!c))return u&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(i=a.getUint32(h+4,!c),8>i)return u&&console.log("Not valid TIFF data! (First offset less than 8)",a.getUint32(h+4,!c)),!1;if(d=l(a,h,h+i,q,c),d.ExifIFDPointer){f=l(a,h,h+d.ExifIFDPointer,p,c);for(e in f){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[e]=s[e][f[e]];break;case"ExifVersion":case"FlashpixVersion":f[e]=String.fromCharCode(f[e][0],f[e][1],f[e][2],f[e][3]);break;case"ComponentsConfiguration":f[e]=s.Components[f[e][0]]+s.Components[f[e][1]]+s.Components[f[e][2]]+s.Components[f[e][3]]
}d[e]=f[e]}}if(d.GPSInfoIFDPointer){g=l(a,h,h+d.GPSInfoIFDPointer,r,c);for(e in g){switch(e){case"GPSVersionID":g[e]=g[e][0]+"."+g[e][1]+"."+g[e][2]+"."+g[e][3]}d[e]=g[e]}}return d}var p,q,r,s,t,u=!1,v=function(a){return a instanceof v?a:this instanceof v?void(this.EXIFwrapped=a):new v(a)};"undefined"!=typeof a&&a.exports&&(b=a.exports=v),b.EXIF=v,p=v.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},q=v.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},r=v.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},s=v.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},t={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"},v.getData=function(a,b){return(a instanceof Image||a instanceof HTMLImageElement)&&!a.complete?!1:(e(a)?b&&b.call(a):h(a,b),!0)},v.getTag=function(a,b){return e(a)?a.exifdata[b]:void 0},v.getAllTags=function(a){if(!e(a))return{};var b,c=a.exifdata,d={};for(b in c)c.hasOwnProperty(b)&&(d[b]=c[b]);return d},v.pretty=function(a){if(!e(a))return"";var b,c=a.exifdata,d="";for(b in c)c.hasOwnProperty(b)&&(d+="object"==typeof c[b]?c[b]instanceof Number?b+" : "+c[b]+" ["+c[b].numerator+"/"+c[b].denominator+"]\r\n":b+" : ["+c[b].length+" values]\r\n":b+" : "+c[b]+"\r\n");return d},v.readFromBinaryFile=function(a){return i(a)},c=[],d=function(){return v}.apply(b,c),!(void 0!==d&&(a.exports=d))}.call(this)},function(a,b){var c,d;!function(){function e(a){var b,c,d=a.naturalWidth,e=a.naturalHeight;return d*e>1048576?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-d+1,0),0===c.getImageData(0,0,1,1).data[3]):!1}function f(a,b,c){var d,e,f,g,h,i,j,k=document.createElement("canvas");for(k.width=1,k.height=c,d=k.getContext("2d"),d.drawImage(a,0,0),e=d.getImageData(0,0,1,c).data,f=0,g=c,h=c;h>f;)i=e[4*(h-1)+3],0===i?g=h:f=h,h=g+f>>1;return j=h/c,0===j?1:j}function g(a,b,c){var d=document.createElement("canvas");return h(a,d,b,c),d.toDataURL("image/jpeg",b.quality||.8)}function h(a,b,c,d){var g,h,j,k,l,m,n,o,p,q,r,s=a.naturalWidth,t=a.naturalHeight,u=c.width,v=c.height,w=b.getContext("2d");for(w.save(),i(b,w,u,v,c.orientation),g=e(a),g&&(s/=2,t/=2),h=1024,j=document.createElement("canvas"),j.width=j.height=h,k=j.getContext("2d"),l=d?f(a,s,t):1,m=Math.ceil(h*u/s),n=Math.ceil(h*v/t/l),o=0,p=0;t>o;){for(q=0,r=0;s>q;)k.clearRect(0,0,h,h),k.drawImage(a,-q,-o),w.drawImage(j,0,0,h,h,r,p,m,n),q+=h,r+=m;o+=h,p+=n}w.restore(),j=k=null}function i(a,b,c,d,e){switch(e){case 5:case 6:case 7:case 8:a.width=d,a.height=c;break;default:a.width=c,a.height=d}switch(e){case 2:b.translate(c,0),b.scale(-1,1);break;case 3:b.translate(c,d),b.rotate(Math.PI);break;case 4:b.translate(0,d),b.scale(1,-1);break;case 5:b.rotate(.5*Math.PI),b.scale(1,-1);break;case 6:b.rotate(.5*Math.PI),b.translate(0,-d);break;case 7:b.rotate(.5*Math.PI),b.translate(c,-d),b.scale(-1,1);break;case 8:b.rotate(-.5*Math.PI),b.translate(-c,0)}}function j(a){var b,c,d;if(window.Blob&&a instanceof Blob){if(b=new Image,c=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null,!c)throw Error("No createObjectURL function found to create blob url");b.src=c.createObjectURL(a),this.blob=a,a=b}a.naturalWidth||a.naturalHeight||(d=this,a.onload=function(){var a,b,c=d.imageLoadListeners;if(c)for(d.imageLoadListeners=null,a=0,b=c.length;b>a;a++)c[a]()},this.imageLoadListeners=[]),this.srcImage=a}j.prototype.render=function(a,b,c){var d,e,f,i,j,k,l,m,n,o,p,q,r,s;if(this.imageLoadListeners)return d=this,void this.imageLoadListeners.push(function(){d.render(a,b,c)});b=b||{},e=this.srcImage,f=e.src,i=f.length,j=e.naturalWidth,k=e.naturalHeight,l=b.width,m=b.height,n=b.maxWidth,o=b.maxHeight,p=this.blob&&"image/jpeg"===this.blob.type||0===f.indexOf("data:image/jpeg")||f.indexOf(".jpg")===i-4||f.indexOf(".jpeg")===i-5,l&&!m?m=k*l/j<<0:m&&!l?l=j*m/k<<0:(l=j,m=k),n&&l>n&&(l=n,m=k*l/j<<0),o&&m>o&&(m=o,l=j*m/k<<0),q={width:l,height:m};for(r in b)q[r]=b[r];s=a.tagName.toLowerCase(),"img"===s?a.src=g(this.srcImage,q,p):"canvas"===s&&h(this.srcImage,a,q,p),"function"==typeof this.onrender&&this.onrender(a),c&&c()},c=[],d=function(){return j}.apply(b,c),!(void 0!==d&&(a.exports=d))}()},function(a){function b(a){function b(a){var b,c,d,e,f,g,h,i,j,k;for(b=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;c++)d=y((b[c]*a+50)/100),1>d?d=1:d>255&&(d=255),z[P[c]]=d;for(e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],f=0;64>f;f++)g=y((e[f]*a+50)/100),1>g?g=1:g>255&&(g=255),A[P[f]]=g;for(h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],i=0,j=0;8>j;j++)for(k=0;8>k;k++)B[i]=1/(8*z[P[i]]*h[j]*h[k]),C[i]=1/(8*A[P[i]]*h[j]*h[k]),i++}function c(a,b){var c,d,e,f,g;for(c=0,d=0,e=new Array,f=1;16>=f;f++){for(g=1;g<=a[f];g++)e[b[d]]=[],e[b[d]][0]=c,e[b[d]][1]=f,d++,c++;c*=2}return e}function d(){t=c(Q,R),u=c(U,V),v=c(S,T),w=c(W,X)}function e(){var a,b,c,d,e;for(a=1,b=2,c=1;15>=c;c++){for(d=a;b>d;d++)E[32767+d]=c,D[32767+d]=[],D[32767+d][1]=c,D[32767+d][0]=d;for(e=-(b-1);-a>=e;e++)E[32767+e]=c,D[32767+e]=[],D[32767+e][1]=c,D[32767+e][0]=b-1+e;a<<=1,b<<=1}}function f(){for(var a=0;256>a;a++)O[a]=19595*a,O[a+256>>0]=38470*a,O[a+512>>0]=7471*a+32768,O[a+768>>0]=-11059*a,O[a+1024>>0]=-21709*a,O[a+1280>>0]=32768*a+8421375,O[a+1536>>0]=-27439*a,O[a+1792>>0]=-5329*a}function g(a){for(var b=a[0],c=a[1]-1;c>=0;)b&1<<c&&(I|=1<<J),c--,J--,0>J&&(255==I?(h(255),h(0)):h(I),J=7,I=0)}function h(a){H.push(N[a])}function i(a){h(255&a>>8),h(255&a)}function j(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z=0;const $=8,_=64;for(k=0;$>k;++k)c=a[Z],d=a[Z+1],e=a[Z+2],f=a[Z+3],g=a[Z+4],h=a[Z+5],i=a[Z+6],j=a[Z+7],l=c+j,m=c-j,n=d+i,o=d-i,p=e+h,q=e-h,r=f+g,s=f-g,t=l+r,u=l-r,v=n+p,w=n-p,a[Z]=t+v,a[Z+4]=t-v,x=.707106781*(w+u),a[Z+2]=u+x,a[Z+6]=u-x,t=s+q,v=q+o,w=o+m,y=.382683433*(t-w),z=.5411961*t+y,A=1.306562965*w+y,B=.707106781*v,C=m+B,D=m-B,a[Z+5]=D+z,a[Z+3]=D-z,a[Z+1]=C+A,a[Z+7]=C-A,Z+=8;for(Z=0,k=0;$>k;++k)c=a[Z],d=a[Z+8],e=a[Z+16],f=a[Z+24],g=a[Z+32],h=a[Z+40],i=a[Z+48],j=a[Z+56],E=c+j,G=c-j,H=d+i,I=d-i,J=e+h,K=e-h,L=f+g,M=f-g,N=E+L,O=E-L,P=H+J,Q=H-J,a[Z]=N+P,a[Z+32]=N-P,R=.707106781*(Q+O),a[Z+16]=O+R,a[Z+48]=O-R,N=M+K,P=K+I,Q=I+G,S=.382683433*(N-Q),T=.5411961*N+S,U=1.306562965*Q+S,V=.707106781*P,W=G+V,X=G-V,a[Z+40]=X+T,a[Z+24]=X-T,a[Z+8]=W+U,a[Z+56]=W-U,Z++;for(k=0;_>k;++k)Y=a[k]*b[k],F[k]=Y>0?0|Y+.5:0|Y-.5;return F}function k(){i(65504),i(16),h(74),h(70),h(73),h(70),h(0),h(1),h(1),h(0),i(1),i(1),h(0),h(0)}function l(a,b){i(65472),i(17),h(8),i(b),i(a),h(3),h(1),h(17),h(0),h(2),h(17),h(1),h(3),h(17),h(1)}function m(){var a,b;for(i(65499),i(132),h(0),a=0;64>a;a++)h(z[a]);for(h(1),b=0;64>b;b++)h(A[b])}function n(){var a,b,c,d,e,f,g,j;for(i(65476),i(418),h(0),a=0;16>a;a++)h(Q[a+1]);for(b=0;11>=b;b++)h(R[b]);for(h(16),c=0;16>c;c++)h(S[c+1]);for(d=0;161>=d;d++)h(T[d]);for(h(1),e=0;16>e;e++)h(U[e+1]);for(f=0;11>=f;f++)h(V[f]);for(h(17),g=0;16>g;g++)h(W[g+1]);for(j=0;161>=j;j++)h(X[j])}function o(){i(65498),i(12),h(3),h(1),h(0),h(2),h(17),h(3),h(17),h(0),h(63),h(0)}function p(a,b,c,d,e){var f,h,i,k,l,m,n,o,p,q,r=e[0],s=e[240];const t=16,u=63,v=64;for(h=j(a,b),i=0;v>i;++i)G[P[i]]=h[i];for(k=G[0]-c,c=G[0],0==k?g(d[0]):(f=32767+k,g(d[E[f]]),g(D[f])),l=63;l>0&&0==G[l];l--);if(0==l)return g(r),c;for(n=1;l>=n;){for(o=n;0==G[n]&&l>=n;++n);if(p=n-o,p>=t){for(m=p>>4,q=1;m>=q;++q)g(s);p=15&p}f=32767+G[n],g(e[(p<<4)+E[f]]),g(D[f]),n++}return l!=u&&g(r),c}function q(){for(var a=String.fromCharCode,b=0;256>b;b++)N[b]=a(b)}function r(a){if(0>=a&&(a=1),a>100&&(a=100),x!=a){var c=0;c=50>a?Math.floor(5e3/a):Math.floor(200-2*a),b(c),x=a}}function s(){var b=(new Date).getTime();a||(a=50),q(),d(),e(),f(),r(a),(new Date).getTime()-b}var t,u,v,w,x,y=(Math.round,Math.floor),z=new Array(64),A=new Array(64),B=new Array(64),C=new Array(64),D=new Array(65535),E=new Array(65535),F=new Array(64),G=new Array(64),H=[],I=0,J=7,K=new Array(64),L=new Array(64),M=new Array(64),N=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(a,b,c){var d,e,f,h,j,q,s,x,y,z,A,D,E,F,G,N,P,Q,R,S,T,U,V=(new Date).getTime();for(b&&r(b),H=new Array,I=0,J=7,i(65496),k(),m(),l(a.width,a.height),n(),o(),d=0,e=0,f=0,I=0,J=7,this.encode.displayName="_encode_",E=a.data,F=a.width,G=a.height,N=4*F,P=0;G>P;){for(h=0;N>h;){for(x=N*P+h,y=x,z=-1,A=0,D=0;64>D;D++)A=D>>3,z=4*(7&D),y=x+A*N+z,P+A>=G&&(y-=N*(P+1+A-G)),h+z>=N&&(y-=h+z-N+4),j=E[y++],q=E[y++],s=E[y++],K[D]=(O[j]+O[q+256>>0]+O[s+512>>0]>>16)-128,L[D]=(O[j+768>>0]+O[q+1024>>0]+O[s+1280>>0]>>16)-128,M[D]=(O[j+1280>>0]+O[q+1536>>0]+O[s+1792>>0]>>16)-128;d=p(K,B,d,t,v),e=p(L,C,e,u,w),f=p(M,C,f,u,w),h+=32}P+=8}if(J>=0&&(Q=[],Q[1]=J+1,Q[0]=(1<<J+1)-1,g(Q)),i(65497),c){for(R=H.length,S=new Uint8Array(R),T=0;R>T;T++)S[T]=H[T].charCodeAt();return H=[],(new Date).getTime()-V,S}return U="data:image/jpeg;base64,"+btoa(H.join("")),H=[],(new Date).getTime()-V,U},s()}a.exports=b},function(a,b,c){function d(a,b){var c,d=this;if(!a)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");b=b||{},d.defaults={width:null,height:null,fieldName:"file",quality:.7},d.file=a;for(c in b)b.hasOwnProperty(c)&&(d.defaults[c]=b[c]);return this.init()}function e(a){var b=null;return b=a?[].filter.call(document.scripts,function(b){return-1!==b.src.indexOf(a)})[0]:document.scripts[document.scripts.length-1],b?b.src.substr(0,b.src.lastIndexOf("/")):null}function f(a){var b,c,d,e=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):unescape(a.split(",")[1]);for(b=a.split(",")[0].split(":")[1].split(";")[0],c=new Uint8Array(e.length),d=0;d<e.length;d++)c[d]=e.charCodeAt(d);return new h.Blob([c.buffer],{type:b})}c.p=e("lrz")+"/",window.URL=window.URL||window.webkitURL;var g=c(1),h=c(4),i=c(5),j=function(a){var b=/OS (\d)_.* like Mac OS X/g.exec(a),c=/Android (\d.*?);/g.exec(a)||/Android\/(\d.*?) /g.exec(a);return{oldIOS:b?+b.pop()<8:!1,oldAndroid:c?+c.pop().substr(0,3)<4.5:!1,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(a),android:/Android/g.test(a),mQQBrowser:/MQQBrowser/g.test(a)}}(navigator.userAgent);d.prototype.init=function(){var a=this,b=a.file,c="string"==typeof b,d=/^data:/.test(b),e=new Image,i=document.createElement("canvas"),j=c?b:URL.createObjectURL(b);if(a.img=e,a.blob=j,a.canvas=i,a.fileName=c?d?"base64.jpg":b.split("/").pop():b.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new g(function(c,g){e.onerror=function(){throw new Error("加载图片文件失败")},e.onload=function(){a._getBase64().then(function(a){return a.length<10&&g("生成base64失败"),a}).then(function(d){var e,g=null;"object"==typeof a.file&&d.length>a.file.size?(g=new FormData,b=a.file):(g=new h.FormData,b=f(d)),g.append(a.defaults.fieldName,b,a.fileName.replace(/\..+/g,".jpg")),c({formData:g,fileLen:+b.size,base64:d,base64Len:d.length,origin:a.file});for(e in a)a.hasOwnProperty(e)&&(a[e]=null);URL.revokeObjectURL(a.blob)})},!d&&(e.crossOrigin="*"),e.src=j})},d.prototype._getBase64=function(){var a=this,b=a.img,c=a.file,d=a.canvas;return new g(function(e){try{i.getData("object"==typeof c?c:b,function(){a.orientation=i.getTag(this,"Orientation"),a.resize=a._getResize(),a.ctx=d.getContext("2d"),d.width=a.resize.width,d.height=a.resize.height,a.ctx.fillStyle="#fff",a.ctx.fillRect(0,0,d.width,d.height),j.oldIOS?a._createBase64ForOldIOS().then(e):a._createBase64().then(e)})}catch(f){throw new Error(f)}})},d.prototype._createBase64ForOldIOS=function(){var a=this,b=a.img,d=a.canvas,e=a.defaults,f=a.orientation;return new g(function(a){!function(){var g=[c(6)];!function(c){var g=new c(b);"5678".indexOf(f)>-1?g.render(d,{width:d.height,height:d.width,orientation:f}):g.render(d,{width:d.width,height:d.height,orientation:f}),a(d.toDataURL("image/jpeg",e.quality))}.apply(null,g)}()})},d.prototype._createBase64=function(){var a=this,b=a.resize,d=a.img,e=a.canvas,f=a.ctx,h=a.defaults,i=a.orientation;switch(i){case 3:f.rotate(180*Math.PI/180),f.drawImage(d,-b.width,-b.height,b.width,b.height);break;case 6:f.rotate(90*Math.PI/180),f.drawImage(d,0,-b.width,b.height,b.width);break;case 8:f.rotate(270*Math.PI/180),f.drawImage(d,-b.height,0,b.height,b.width);break;case 2:f.translate(b.width,0),f.scale(-1,1),f.drawImage(d,0,0,b.width,b.height);break;case 4:f.translate(b.width,0),f.scale(-1,1),f.rotate(180*Math.PI/180),f.drawImage(d,-b.width,-b.height,b.width,b.height);break;case 5:f.translate(b.width,0),f.scale(-1,1),f.rotate(90*Math.PI/180),f.drawImage(d,0,-b.width,b.height,b.width);break;case 7:f.translate(b.width,0),f.scale(-1,1),f.rotate(270*Math.PI/180),f.drawImage(d,-b.height,0,b.height,b.width);break;default:f.drawImage(d,0,0,b.width,b.height)}return new g(function(a){j.oldAndroid||j.mQQBrowser||!navigator.userAgent?!function(){var b=[c(7)];!function(b){var c=new b,d=f.getImageData(0,0,e.width,e.height);a(c.encode(d,100*h.quality))}.apply(null,b)}():a(e.toDataURL("image/jpeg",h.quality))})},d.prototype._getResize=function(){var a,b=this,c=b.img,d=b.defaults,e=d.width,f=d.height,g=b.orientation,h={width:c.width,height:c.height};if("5678".indexOf(g)>-1&&(h.width=c.height,h.height=c.width),h.width<e||h.height<f)return h;for(a=h.width/h.height,e&&f?a>=e/f?h.width>e&&(h.width=e,h.height=Math.ceil(e/a)):h.height>f&&(h.height=f,h.width=Math.ceil(f*a)):e?e<h.width&&(h.width=e,h.height=Math.ceil(e/a)):f&&f<h.height&&(h.width=Math.ceil(f*a),h.height=f);h.width>=3264||h.height>=2448;)h.width*=.8,h.height*=.8;return h},window.lrz=function(a,b){return new d(a,b)},window.lrz.version="4.8.35",a.exports=window.lrz}])}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery","iscroll-zoom","hammer","lrz"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("iscroll-zoom"),require("hammer"),require("lrz")):(a.bjj=a.bjj||{},a.bjj.PhotoClip=b(a.jQuery,a.IScroll,a.Hammer,a.lrz))}(this,function(a,b,c,d){"use strict";function e(b,c){var d,e;return window.FileReader?(d=a.extend({},h,c),e=f(b,d),this.destroy=e.destroy,void 0):(alert("您的浏览器不支持 HTML5 的 FileReader API， 因此无法初始化图片裁剪插件，请更换最新的浏览器！"),void 0)}function f(e,f){function h(){S=!0,W.append(this),v.call(this,P,function(){Q=this.naturalWidth,R=this.naturalHeight}),v(V,function(){k()}),H.call(this,this.src)}function j(){var a={zoom:!0,scrollX:!0,scrollY:!0,freeScroll:!0,mouseWheel:!0,wheelAction:"zoom"};$=new b(U[0],a)}function k(){eb=0,fb=0,gb=0,W.css({width:Q,height:R}),B(W,eb,fb,gb),y(Q,R),$.zoom($.options.zoomStart),l(Q,R);var a=.5*(K-Q*$.options.zoomStart),b=.5*(L-R*$.options.zoomStart);$.scrollTo(a,b)}function l(a,b){V.css({width:a,height:b}),U.append(V),$.refresh()}function m(){var a,b,d=!!navigator.userAgent.match(/mobile/i);d?(Z=new c(V[0]),Z.add(new c.Rotate),Z.on("rotatemove",function(c){db||(a=c.rotation,a>180?a-=360:-180>a&&(a+=360),b=a>0?1:0>a?-1:0)}),Z.on("rotateend",function(c){db||Math.abs(a)>30&&(1==b?n(c.center):-1==b&&o(c.center))})):V.on("dblclick",function(a){n({x:a.clientX,y:a.clientY})})}function n(a){p(90,a)}function o(a){p(-90,a)}function p(a,b){var c,d,e,f,g,h,i,j,k,m,n;db||(db=!0,c=b?u(V,b.x,b.y):t(V,U,.5*K,.5*L),f=w(gb,c),g=f.x,h=f.y,i=0,j=0,k=0,m=0,n=gb+a,90==n||-270==n?(i=g+h,j=h-g,n>gb?(k=R-g-h,m=g-h):gb>n&&(k=R-h-(Q-g),m=g+h-R),d=R,e=Q):180==n||-180==n?(i=2*g,j=2*h,n>gb?(k=Q-g-(R-h),m=R-(g+h)):gb>n&&(k=Q-(g+h),m=R-h-(Q-g)),d=Q,e=R):270==n||-90==n?(i=g-h,j=g+h,n>gb?(k=g+h-Q,m=Q-g-(R-h)):gb>n&&(k=h-g,m=Q-g-h),d=R,e=Q):(0==n||360==n||-360==n)&&(i=0,j=0,n>gb?(k=g-h,m=g+h-Q):gb>n&&(k=g+h-R,m=h-g),d=Q,e=R),0==gb?(eb=0,fb=0):90==gb||-270==gb?(eb-=g+h,fb-=h-g):180==gb||-180==gb?(eb-=2*g,fb-=2*h):(270==gb||-90==gb)&&(eb-=g-h,fb-=g+h),eb=eb.toFixed(2)-0,fb=fb.toFixed(2)-0,B(W,eb,fb,gb,g,h),C(W,eb,fb,n,200,function(){db=!1,gb=n%360,eb+=i+k,fb+=j+m,eb=eb.toFixed(2)-0,fb=fb.toFixed(2)-0,B(W,eb,fb,gb),$.scrollTo($.x-k*$.scale,$.y-m*$.scale),y(d,e),$.scale<$.options.zoomMin&&$.zoom($.options.zoomMin),l(d,e)}))}function q(){Y=document.createElement("canvas")}function r(){var a,b,c,d;return S?(a=t(V,U),b=$.scale,c=Y.getContext("2d"),c.clearRect(0,0,Y.width,Y.height),c.save(),M&&N?(Y.width=M,Y.height=N,c.scale(M/K*b,N/L*b)):(Y.width=K/b,Y.height=L/b),c.translate(eb-a.x/b,fb-a.y/b),c.rotate(gb*Math.PI/180),c.drawImage(P[0],0,0),c.restore(),d=Y.toDataURL(mb,1),X.css("background-image","url("+d+")"),J.call(P[0],d),void 0):(alert("亲，当前没有图片可以裁剪!"),void 0)}function s(){v(T,function(){_=T.width(),ab=T.height()})}function t(a,b,c,d){c=c||0,d=d||0;var e,f;return v(a,function(){e=a.offset()}),v(b,function(){f=b.offset()}),{x:f.left-e.left+c,y:f.top-e.top+d}}function u(a,b,c){b=b||0,c=c||0;var d;return v(a,function(){d=a.offset()}),{x:b+cb.scrollLeft()-d.left,y:c+cb.scrollTop()-d.top}}function v(b,c){var d=a();a.each(b,function(b,c){var e,f=a(c),g=f.parents().andSelf().filter(":hidden");for(b=0;b<g.length&&f.is(":hidden");b++)e=g.eq(b),"none"==e.css("display")&&(d=d.add(e.show()))}),"function"==typeof c&&c.call(this),d.hide()}function w(a,b){var c=$.scale,d={};return 0==a?(d.x=b.x/c,d.y=b.y/c):90==a||-270==a?(d.x=b.y/c,d.y=R-b.x/c):180==a||-180==a?(d.x=Q-b.x/c,d.y=R-b.y/c):(270==a||-90==a)&&(d.x=Q-b.y/c,d.y=b.x/c),d}function x(a,b,c,d){var e=a/c,f=b/d;return e>f?e:f}function y(a,b){$.options.zoomMin=x(K,L,a,b),$.options.zoomMax=Math.max(1,$.options.zoomMin),$.options.zoomStart=Math.min($.options.zoomMax,x(_,ab,a,b))}function z(){P&&P.length&&(P.remove(),delete P[0])}function A(b){z(),P=a("<img>").css({"user-select":"none","pointer-events":"none"}),P.load(h),P.attr("src",b)}function B(a,b,c,d,e,f){e=e||0,f=f||0;var g={};g[i+"transform"]="translateZ(0) translate("+b+"px,"+c+"px) rotate("+d+"deg)",g[i+"transform-origin"]=e+"px "+f+"px",a.css(g)}function C(a,b,c,d,e,f){a.css(i+"transform"),a.css(i+"transition",i+"transform "+e+"ms"),a.one(g,function(){a.css(i+"transition",""),f.call(this)}),a.css(i+"transform","translateZ(0) translate("+b+"px,"+c+"px) rotate("+d+"deg)")}function D(a){return"[object Array]"===Object.prototype.toString.call(a)}function E(){T=a(e).css({"user-select":"none",overflow:"hidden"}),"static"==T.css("position")&&T.css("position","relative"),U=a("<div class='photo-clip-view'>").css({position:"absolute",left:"50%",top:"50%",width:K,height:L,"margin-left":-K/2,"margin-top":-L/2}).appendTo(T),V=a("<div class='photo-clip-moveLayer'>").appendTo(U),W=a("<div class='photo-clip-rotateLayer'>").appendTo(V);var b=a("<div class='photo-clip-mask'>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%","pointer-events":"none"}).appendTo(T);a("<div class='photo-clip-mask-left'>").css({position:"absolute",left:0,right:"50%",top:"50%",bottom:"50%",width:"auto",height:L,"margin-right":K/2,"margin-top":-L/2,"margin-bottom":-L/2,"background-color":"rgba(0,0,0,.5)"}).appendTo(b),a("<div class='photo-clip-mask-right'>").css({position:"absolute",left:"50%",right:0,top:"50%",bottom:"50%","margin-left":K/2,"margin-top":-L/2,"margin-bottom":-L/2,"background-color":"rgba(0,0,0,.5)"}).appendTo(b),a("<div class='photo-clip-mask-top'>").css({position:"absolute",left:0,right:0,top:0,bottom:"50%","margin-bottom":L/2,"background-color":"rgba(0,0,0,.5)"}).appendTo(b),a("<div class='photo-clip-mask-bottom'>").css({position:"absolute",left:0,right:0,top:"50%",bottom:0,"margin-top":L/2,"background-color":"rgba(0,0,0,.5)"}).appendTo(b),a("<div class='photo-clip-area'>").css({border:"1px dashed #ddd",position:"absolute",left:"50%",top:"50%",width:K,height:L,"margin-left":-K/2-1,"margin-top":-L/2-1}).appendTo(b),X=a(kb),X.length&&X.css({"background-color":"#666","background-repeat":"no-repeat","background-position":"center","background-size":"contain"})}function F(){O.off("change"),O=null,Z?(Z.off("rotatemove"),Z.off("rotateend"),Z=null):V.off("dblclick"),$.destroy(),$=null,T.empty(),T=null,U=null,V=null,W=null,X.css({"background-color":"","background-repeat":"","background-position":"","background-size":""}),X=null}var G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb=f.size,ib=f.outputSize,jb=f.file,kb=f.view,lb=f.ok,mb=f.outputType||"image/jpeg";return mb="image/jpeg",G=f.loadStart,H=f.loadComplete,I=f.loadError,J=f.clipFinish,D(hb)||(hb=[260,260]),D(ib)||(ib=[0,0]),K=hb[0]||260,L=hb[1]||260,M=Math.max(ib[0],0),N=Math.max(ib[1],0),"jpg"===mb?mb="image/jpeg":"png"===mb?mb="image/png":"gif"===mb&&(mb="image/gif"),O=a(jb),O.length?(O.attr("accept","image/*"),O.on("change",function(){var a,b;return this.files.length?(a=this.files[0],mb=a.type,!/image\/\w+/.test(a.type)&&a.size<=0?(alert("图片格式不正确，请选择正确格式的图片文件！"),!1):(b=new FileReader,b.onprogress=function(a){console.log((100*(a.loaded/a.total)).toFixed()+"%")},b.onload=function(){d(a).then(function(a){A(a.base64)}).catch(function(a){alert("图片处理失败"),I.call(this,a)})},b.onerror=function(a){alert("图片加载失败"),I.call(this,a)},b.readAsDataURL(a),G.call(b,a),void 0)):void 0}),O.click(function(){this.value=""}),E(),j(),m(),q(),bb=a(lb),bb.length&&bb.click(function(){r()}),cb=a(window),s(),cb.resize(s),{destroy:F}):void 0}var g,h={size:[260,260],outputSize:[0,0],file:"",view:"",ok:"",loadStart:function(){},loadComplete:function(){},loadError:function(){},clipFinish:function(){}},i="";return function(){var a,b,c={Webkit:"webkit",Moz:"",O:"o"},d=document.documentElement,e=function(b){return a?a+b:b.toLowerCase()};for(b in c)if(void 0!==d.style[b+"TransitionProperty"]){i="-"+b.toLowerCase()+"-",a=c[b];break}g=e("TransitionEnd")}(),e});